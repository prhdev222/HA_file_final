# Software Requirements Specification (SRS)
## ระบบจัดการไฟล์แผนกอายุรกรรม โรงพยาบาลสงฆ์

### 1. บทนำ

#### 1.1 วัตถุประสงค์
เอกสารนี้จัดทำขึ้นเพื่อกำหนดข้อกำหนดทางซอฟต์แวร์สำหรับระบบจัดการไฟล์และข้อมูลของแผนกอายุรกรรม โรงพยาบาลสงฆ์

#### 1.2 ขอบเขตของระบบ
- ระบบจัดการไฟล์ guideline สำหรับแต่ละหน่วยงาน
- ระบบจัดการความรู้และกิจกรรมของหน่วยงาน
- ระบบข้อมูลการติดต่อแต่ละหน่วยงาน
- ระบบ download ไฟล์สำหรับบุคลากรในเครือข่าย

#### 1.3 ผู้ใช้งานเป้าหมาย
- บุคลากรทางการแพทย์และพยาบาลในแผนกอายุรกรรม
- เจ้าหน้าที่โรงพยาบาลที่มีสิทธิ์เข้าถึงเครือข่าย

### 2. คำอธิบายทั่วไป

#### 2.1 ภาพรวมของระบบ
ระบบเว็บแอปพลิเคชันสำหรับจัดการไฟล์และข้อมูลของหน่วยงานต่างๆ ในแผนกอายุรกรรม ที่สามารถเข้าใถึงได้ผ่านเครือข่ายภายในโรงพยาบาล

#### 2.2 หน่วยงานที่รองรับ
1. **DM (Diabetes Mellitus)** - หน่วยเบาหวาน
2. **COPD (Chronic Obstructive Pulmonary Disease)** - หน่วยปอดอุดกั้นเรื้อรัง
3. **UGIB (Upper Gastrointestinal Bleeding)** - หน่วยเลือดออกทางเดินอาหารส่วนต้น
4. **CKD (Chronic Kidney Disease)** - หน่วยไตเรื้อรัง
5. **STEMI/NSTEMI** - หน่วยหัวใจขาดเลือด
6. **Stroke** - หน่วยโรคหลอดเลือดสมอง
7. **TB (Tuberculosis)** - หน่วยวัณโรค
8. **CHEMO (Chemotherapy)** - หน่วยเคมีบำบัด
9. **HTN (Hypertension)** - หน่วยความดันโลหิตสูง

### 3. ข้อกำหนดเฉพาะ

#### 3.1 ความต้องการด้านการทำงาน (Functional Requirements)

##### 3.1.1 การจัดการไฟล์ Guidelines
- **FR-001**: ระบบต้องสามารถแสดงรายการไฟล์ guideline แยกตามหน่วยงาน
- **FR-002**: ผู้ใช้สามารถดาวน์โหลดไฟล์ guideline ได้
- **FR-003**: แอดมินสามารถอัปโหลด/แก้ไข/ลบไฟล์ guideline ได้
- **FR-004**: ระบบต้องรองรับไฟล์ประเภท PDF, DOC, DOCX, PPT, PPTX
- **FR-004.1**: ไฟล์เอกสารแต่ละไฟล์ต้องไม่เกิน 50MB
- **FR-004.2**: ระบบต้องตรวจสอบประเภทและขนาดไฟล์ก่อนอัปโหลด

##### 3.1.2 การจัดการสื่อมัลติมีเดีย
- **FR-005**: ระบบต้องรองรับการแสดงรูปภาพ (JPG, PNG, GIF) ขนาดไม่เกิน 10MB
- **FR-006**: ระบบต้องรองรับการแสดงวิดีโอผ่าน external links
- **FR-007**: รองรับ YouTube embed, Google Drive links, และ network file paths
- **FR-008**: ระบบต้องสร้าง thumbnail สำหรับรูปภาพที่อัปโหลด
- **FR-009**: แอดมินสามารถเพิ่ม/แก้ไข/ลบลิงค์วิดีโอได้

##### 3.1.3 การจัดการความรู้
- **FR-010**: ระบบต้องมีหน้าแสดงข้อมูลความรู้แต่ละหน่วยงาน
- **FR-011**: แอดมินสามารถเพิ่ม/แก้ไข/ลบเนื้อหาความรู้ได้
- **FR-012**: รองรับการแสดงเนื้อหาแบบ Rich Text (หัวข้อ, รูปภาพ, ลิงค์)
- **FR-013**: สามารถฝังรูปภาพและวิดีโอในเนื้อหาความรู้ได้

##### 3.1.4 การจัดการกิจกรรม
- **FR-014**: ระบบต้องแสดงรายการกิจกรรมของแต่ละหน่วยงาน
- **FR-015**: แอดมินสามารถเพิ่ม/แก้ไข/ลบข้อมูลกิจกรรมได้
- **FR-016**: แสดงวันที่และรายละเอียดกิจกรรม
- **FR-017**: สามารถแนบรูปภาพกิจกรรมได้

##### 3.1.5 ข้อมูลการติดต่อ
- **FR-018**: ระบบต้องแสดงช่องทางการติดต่อของแต่ละหน่วยงาน
- **FR-019**: รองรับการแสดง LINE ID, Email, เบอร์โทร
- **FR-020**: แอดมินสามารถอัปเดตข้อมูลการติดต่อได้

##### 3.1.6 การจัดการระบบ
- **FR-021**: ระบบต้องมีการ authentication สำหรับแอดมิน
- **FR-022**: ระบบต้องมีหน้า dashboard สำหรับแอดมิน
- **FR-023**: ระบบต้องสามารถสำรองข้อมูลได้

#### 3.2 ความต้องการด้านเทคนิค (Non-Functional Requirements)

##### 3.2.1 ความต้องการด้านประสิทธิภาพ
- **NFR-001**: ระบบต้องรองรับผู้ใช้งานพร้อมกันอย่างน้อย 50 คน
- **NFR-002**: เวลาในการโหลดหน้าเว็บไม่เกิน 3 วินาที
- **NFR-003**: การดาวน์โหลดไฟล์ต้องเสถียรและไม่ขาดหาย

##### 3.2.2 ความต้องการด้านความปลอดภัย
- **NFR-004**: ระบบต้องป้องกันการเข้าถึงจากเครือข่ายภายนอก
- **NFR-005**: มีระบบ session management สำหรับแอดมิน
- **NFR-006**: การอัปโหลดไฟล์ต้องมีการตรวจสอบประเภทไฟล์

##### 3.2.3 ความต้องการด้านการจัดเก็บไฟล์
- **NFR-010**: ไฟล์เอกสาร (PDF, DOC, PPT) ต้องเก็บใน file system ไม่ใช่ database
- **NFR-011**: รูปภาพต้องมีขนาดไม่เกิน 10MB และสร้าง thumbnail อัตโนมัติ
- **NFR-012**: วิดีโอต้องเก็บเป็น external links (YouTube, Google Drive, Network paths)
- **NFR-013**: ขนาดไฟล์เอกสารแต่ละไฟล์ต้องไม่เกิน 50MB
- **NFR-014**: ระบบต้องมี storage quota management
- **NFR-015**: รองรับการเก็บไฟล์แบบ hierarchical (แยกตามหน่วยงาน)
##### 3.2.4 ความต้องการด้านการใช้งาน
- **NFR-016**: Interface ต้องใช้งานง่าย และเข้าใจง่าย
- **NFR-017**: รองรับการใช้งานบนเบราว์เซอร์หลัก (Chrome, Firefox, Edge)
- **NFR-018**: รองรับการใช้งานบนอุปกรณ์มือถือ (Responsive Design)

##### 3.2.5 ความต้องการด้านการติดตั้งและบำรุงรักษา
- **NFR-019**: สามารถติดตั้งบนเครื่อง Windows/Linux ได้
- **NFR-020**: มี Database ที่ใช้งานง่าย (SQLite)
- **NFR-021**: สามารถ backup และ restore ข้อมูลได้ง่าย
- **NFR-022**: มี log file สำหรับ debugging

### 4. สถาปัตยกรรมระบบ

#### 4.1 เทคโนโลยีที่ใช้
- **Backend**: Python Flask
- **Database**: SQLite with SQLAlchemy ORM
- **Frontend**: HTML, CSS, JavaScript, Jinja2 Templates
- **File Storage**: Local file system

#### 4.1 เทคโนโลยีที่ใช้
- **Backend**: Python Flask
- **Database**: SQLite with SQLAlchemy ORM
- **Frontend**: HTML, CSS, JavaScript, Jinja2 Templates
- **File Storage**: Local file system (แยกจาก database)
- **Media Handling**: External links สำหรับวิดีโอ, thumbnail generation สำหรับรูปภาพ

#### 4.2 File Storage Architecture

##### 4.2.1 โครงสร้างการจัดเก็บไฟล์
```
storage/
├── uploads/
│   ├── guidelines/
│   │   ├── dm/
│   │   ├── copd/
│   │   ├── ugib/
│   │   ├── ckd/
│   │   ├── stemi_nstemi/
│   │   ├── stroke/
│   │   ├── tb/
│   │   ├── chemo/
│   │   └── htn/
│   ├── images/
│   │   ├── knowledge/
│   │   ├── activities/
│   │   └── thumbnails/
│   └── temp/ (สำหรับไฟล์ที่อัปโหลดชั่วคราว)
```

##### 4.2.2 File Size Limitations
- **เอกสาร (PDF, DOC, PPT)**: สูงสุด 50MB
- **รูปภาพ (JPG, PNG, GIF)**: สูงสุด 10MB
- **วิดีโอ**: เก็บเฉพาะ external links
- **Database**: เก็บเฉพาะ metadata และ file paths

#### 4.3 โครงสร้างฐานข้อมูล

##### 4.2.1 ตาราง departments
```sql
- id (Primary Key)
- name (ชื่อหน่วยงาน)
- code (รหัสหน่วยงาน เช่น DM, COPD)
- description (คำอธิบาย)
- created_at
- updated_at
```

##### 4.2.2 ตาราง guidelines
```sql
- id (Primary Key)
- department_id (Foreign Key)
- title (ชื่อไฟล์)
- file_path (path ของไฟล์)
- file_size
- upload_date
- description
```

##### 4.2.3 ตาราง knowledge
```sql
- id (Primary Key)
- department_id (Foreign Key)
- title (หัวข้อ)
- content (เนื้อหา)
- created_at
- updated_at
```

##### 4.2.4 ตาราง activities
```sql
- id (Primary Key)
- department_id (Foreign Key)
- title (ชื่อกิจกรรม)
- description (รายละเอียด)
- activity_date
- created_at
```

##### 4.2.5 ตาราง contacts
```sql
- id (Primary Key)
- department_id (Foreign Key)
- line_id
- email
- phone
- other_contact
```

##### 4.2.6 ตาราง admin_users
```sql
- id (Primary Key)
- username
- password_hash
- email
- created_at
- last_login
```

### 5. User Interface

#### 5.1 หน้าหลัก (Home Page)
- แสดงรายการหน่วยงานทั้ง 9 หน่วย
- เมนูนำทางไปหน้าต่างๆ
- ข้อมูลทั่วไปของแผนกอายุรกรรม

#### 5.2 หน้าหน่วยงาน (Department Page)
- แท็บ Guidelines (รายการไฟล์ที่ดาวน์โหลดได้)
- แท็บ Knowledge (ความรู้และข้อมูลเฉพาะทาง)
- แท็บ Activities (กิจกรรมของหน่วยงาน)
- แท็บ Contact (ข้อมูลการติดต่อ)

#### 5.3 หน้าผู้ดูแลระบบ (Admin Panel)
- Dashboard แสดงสถิติการใช้งาน
- จัดการไฟล์ Guidelines
- จัดการเนื้อหา Knowledge
- จัดการกิจกรรม
- จัดการข้อมูลการติดต่อ

### 6. การติดตั้งและใช้งาน

#### 6.1 ความต้องการของระบบ
- Python 3.8 หรือสูงกว่า
- RAM อย่างน้อย 2GB
- พื้นที่ Hard Disk อย่างน้อย 5GB
- Port 5000 สำหรับ Flask application

#### 6.2 การติดตั้ง
1. ติดตั้ง Python dependencies
2. สร้างฐานข้อมูล SQLite
3. กำหนดค่า configuration
4. เริ่มต้น Flask application

#### 6.3 การเข้าถึงจากเครือข่าย
- กำหนด host = '0.0.0.0' เพื่อให้เครื่องอื่นในเครือข่ายเข้าถึงได้
- เปิด port 5000 บน firewall
- ผู้ใช้สามารถเข้าถึงผ่าน http://[IP-ADDRESS]:5000

### 7. การทดสอบ

#### 7.1 การทดสอบการทำงาน
- ทดสอบการอัปโหลดและดาวน์โหลดไฟล์
- ทดสอบการเพิ่ม/แก้ไข/ลบข้อมูล
- ทดสอบการเข้าถึงจากเครื่องอื่นในเครือข่าย

#### 7.2 การทดสอบประสิทธิภาพ
- ทดสอบการใช้งานพร้อมกันหลายคน
- ทดสอบการโหลดไฟล์ขนาดใหญ่

#### 7.3 การทดสอบความปลอดภัย
- ทดสอบการป้องกันการเข้าถึงที่ไม่ได้รับอนุญาต
- ทดสอบการอัปโหลดไฟล์ที่เป็นอันตราย

### 8. การบำรุงรักษา

#### 8.1 การสำรองข้อมูล
- สำรองฐานข้อมูล SQLite รายสัปดาห์
- สำรองไฟล์ที่อัปโหลด

#### 8.2 การดูแลระบบ
- ตรวจสอบ log files
- ตรวจสอบพื้นที่ storage
- อัปเดต security patches

### 9. ภาคผนวก

#### 9.1 รายการ Python Packages ที่ใช้
- Flask
- SQLAlchemy
- Flask-SQLAlchemy
- Werkzeug (สำหรับ password hashing)
- Jinja2 (Template engine)

#### 9.2 โครงสร้างโฟลเดอร์
```
project/
├── app.py
├── config.py
├── models.py
├── requirements.txt
├── static/
│   ├── css/
│   ├── js/
│   └── uploads/
└── templates/
    ├── admin/
    └── public/
```